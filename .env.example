# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:5432/nofx
DATABASE_POOL_MAX=10
DATABASE_POOL_MIN=2
DATABASE_POOL_IDLE_TIMEOUT=30000

# Queue Configuration
# Choose your queue driver based on your needs:

# Option 1: PostgreSQL-based queue (RECOMMENDED - no extra services!)
# Uses your existing database for queue operations
QUEUE_DRIVER=postgres

# Option 2: Redis-based queue (for high-throughput > 1000 jobs/min)
# QUEUE_DRIVER=redis
# REDIS_URL=redis://localhost:6379  # Local Redis
# REDIS_URL=rediss://...upstash.io:6379  # Upstash (production)
# REDIS_URL=[VERCEL_KV_URL]  # Vercel KV (production)

# Option 3: Memory queue (development only, jobs lost on restart)
# QUEUE_DRIVER=memory

# Redis Configuration (only needed if QUEUE_DRIVER=redis)
REDIS_URL=redis://localhost:6379
REDIS_CLUSTER_MODE=false

# Authentication
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRY=7d
SESSION_SECRET=your-session-secret-change-in-production

# AI Model API Keys
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
GEMINI_API_KEY=...

# AWS Configuration (if using S3 for artifacts)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=nofx-artifacts

# Application Settings
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# Vercel Specific (set in Vercel Dashboard)
VERCEL_URL=
VERCEL_ENV=

# Monitoring & Observability
SENTRY_DSN=
DATADOG_API_KEY=
NEW_RELIC_LICENSE_KEY=

# Feature Flags
ENABLE_RESPONSES=true
ENABLE_GATES=true
ENABLE_AUTO_BACKUP=false
BACKUP_INTERVAL_MIN=60

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Queue Configuration
QUEUE_CONCURRENCY=5
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=5000

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Agent SDK Configuration (September 29, 2025)
# Claude Agent SDK for next-generation AI capabilities
USE_AGENT_SDK=false                    # Feature flag - set to true to use Agent SDK
AGENT_SDK_MODEL=claude-sonnet-4-5      # Default model (claude-sonnet-4-5, claude-opus-4, etc.)
AGENT_SDK_SESSION_PERSIST=true         # Enable session/memory persistence
AGENT_SDK_MAX_TOKENS=4096              # Default max tokens per request
AGENT_SDK_TEMPERATURE=0.7              # Default temperature (0.0-1.0)

# Cost Management
AGENT_SDK_COST_ALERT_THRESHOLD=10.00   # Alert when single step exceeds $10
AGENT_SDK_COST_DAILY_LIMIT=100.00      # Daily spending limit (not enforced yet)
AGENT_SDK_COST_MONTHLY_BUDGET=1000.00  # Monthly budget tracking
